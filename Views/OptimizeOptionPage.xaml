<UserControl x:Class="WindowsControlPanel.Views.OptimizeOptionPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:mvvm="http://prismlibrary.com/"
             xmlns:regions="http://prismlibrary.com/"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             mvvm:ViewModelLocator.AutoWireViewModel="True"
             mc:Ignorable="d"
             d:DesignHeight="650"
             d:DesignWidth="980">
    <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
          Background="{DynamicResource ControlFillColorDefaultBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.Resources>
            <BooleanToVisibilityConverter x:Key="BoolToVisibility" />

            <Style x:Key="SidebarButtonStyle" TargetType="ui:Button">
                <Setter Property="Height" Value="38" />
                <Setter Property="Appearance" Value="Secondary" />
                <Setter Property="FontWeight" Value="Normal" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="BorderBrush" Value="{DynamicResource UiBrushControlStroke}" />
                <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
            </Style>

            <Style x:Key="SidebarButtonSelectedStyle" TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                <Setter Property="FontWeight" Value="SemiBold" />
                <Setter Property="BorderThickness" Value="1.5" />
                <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
            </Style>
        </Grid.Resources>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0"
                Background="{DynamicResource ControlFillColorSecondaryBrush}"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Stretch">
            <Grid Margin="12,16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0">
                    <TextBlock FontSize="20" FontWeight="SemiBold" Text="进一步优化" />
                    <TextBlock Margin="0,6,0,0"
                               TextWrapping="Wrap"
                               Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                               Text="{Binding GlobalStatus}" />
                </StackPanel>

                <StackPanel Grid.Row="1" Margin="0,14,0,0">
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                CornerRadius="2"
                                Background="{DynamicResource SystemFillColorPrimaryBrush}"
                                Visibility="{Binding IsSecuritySelected, Converter={StaticResource BoolToVisibility}}" />
                        <ui:Button Grid.Column="1"
                                   Command="{Binding OpenSecurityCommand}"
                                   Content="安全与虚拟化">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="ShieldLock24" />
                            </ui:Button.Icon>
                            <ui:Button.Style>
                                <Style TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsSecuritySelected}" Value="True">
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                                            <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ui:Button.Style>
                        </ui:Button>
                    </Grid>

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                CornerRadius="2"
                                Background="{DynamicResource SystemFillColorPrimaryBrush}"
                                Visibility="{Binding IsDevelopmentSelected, Converter={StaticResource BoolToVisibility}}" />
                        <ui:Button Grid.Column="1"
                                   Command="{Binding OpenDevelopmentCommand}"
                                   Content="开发环境">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="Code24" />
                            </ui:Button.Icon>
                            <ui:Button.Style>
                                <Style TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsDevelopmentSelected}" Value="True">
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                                            <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ui:Button.Style>
                        </ui:Button>
                    </Grid>

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                CornerRadius="2"
                                Background="{DynamicResource SystemFillColorPrimaryBrush}"
                                Visibility="{Binding IsGameSelected, Converter={StaticResource BoolToVisibility}}" />
                        <ui:Button Grid.Column="1"
                                   Command="{Binding OpenGameCommand}"
                                   Content="游戏优化">
                            <ui:Button.Icon>
                                <ui:SymbolIcon />
                            </ui:Button.Icon>
                            <ui:Button.Style>
                                <Style TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsGameSelected}" Value="True">
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                                            <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ui:Button.Style>
                        </ui:Button>
                    </Grid>

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                CornerRadius="2"
                                Background="{DynamicResource SystemFillColorPrimaryBrush}"
                                Visibility="{Binding IsStartupSelected, Converter={StaticResource BoolToVisibility}}" />
                        <ui:Button Grid.Column="1"
                                   Command="{Binding OpenStartupCommand}"
                                   Content="启动与服务">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="Rocket24" />
                            </ui:Button.Icon>
                            <ui:Button.Style>
                                <Style TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsStartupSelected}" Value="True">
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                                            <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ui:Button.Style>
                        </ui:Button>
                    </Grid>

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                CornerRadius="2"
                                Background="{DynamicResource SystemFillColorPrimaryBrush}"
                                Visibility="{Binding IsCleanupSelected, Converter={StaticResource BoolToVisibility}}" />
                        <ui:Button Grid.Column="1"
                                   Command="{Binding OpenCleanupCommand}"
                                   Content="磁盘与清理">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="Delete24" />
                            </ui:Button.Icon>
                            <ui:Button.Style>
                                <Style TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsCleanupSelected}" Value="True">
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                                            <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ui:Button.Style>
                        </ui:Button>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="4" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"
                                CornerRadius="2"
                                Background="{DynamicResource SystemFillColorPrimaryBrush}"
                                Visibility="{Binding IsNetworkSelected, Converter={StaticResource BoolToVisibility}}" />
                        <ui:Button Grid.Column="1"
                                   Command="{Binding OpenNetworkCommand}"
                                   Content="网络与 DNS">
                            <ui:Button.Icon>
                                <ui:SymbolIcon Symbol="Globe24" />
                            </ui:Button.Icon>
                            <ui:Button.Style>
                                <Style TargetType="ui:Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsNetworkSelected}" Value="True">
                                            <Setter Property="FontWeight" Value="SemiBold" />
                                            <Setter Property="BorderThickness" Value="1.5" />
                                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorPrimaryBrush}" />
                                            <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ui:Button.Style>
                        </ui:Button>
                    </Grid>
                </StackPanel>

                <StackPanel Grid.Row="2">
                    <ui:Button Height="36"
                               Appearance="Secondary"
                               Command="{Binding BackToHomeCommand}"
                               Content="返回首页">
                        <ui:Button.Icon>
                            <ui:SymbolIcon Symbol="Home24" />
                        </ui:Button.Icon>
                    </ui:Button>
                </StackPanel>
            </Grid>
        </Border>

        <ui:Card Grid.Column="1"
                 Margin="12"
                 Padding="14"
                 BorderThickness="1"
                 Background="{DynamicResource UiBrushBackground}"
                 BorderBrush="{DynamicResource UiBrushControlStroke}"
                 VerticalAlignment="Stretch"
                 HorizontalAlignment="Stretch">
            <ContentControl
                regions:RegionManager.RegionName="FeatureRegion"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch" />
        </ui:Card>
    </Grid>
</UserControl>
